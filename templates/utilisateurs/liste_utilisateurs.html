{% extends 'gesstock/base.html' %}

{% if messages %}
    
    {% for message in messages %}
        <div class="alert {{message.tags}} m-2" role="alert" id="msg">
            {{ message }}
        </div>
    {% endfor %}
        
{% endif %}

{% block content %}
  <div class="container">
    <h2>Liste des Utilisateurs</h2>

    <div class="top-buttons">
      <a href="{% url 'ajouter_utilisateur' %}" class="btn btn-add">+ Ajouter Utilisateur</a>
    </div>

    <table class="table">
      <tr>
        <th>Nom d'utilisateur</th>
        <th>Email</th>
        {% comment %} <th>Adresse</th> {% endcomment %}
        <th>Rôle</th>
        <th>Actions</th>
      </tr>
      {% for utilisateur in utilisateurs %}
        <tr>
          <td>{{ utilisateur.username }}</td>
          {% comment %} <td>{{ utili.contact }}</td> {% endcomment %}
          <td>{{ utilisateur.email }}</td>
          <td>{{ utilisateur.role }}</td>
          <td>
            <a class="btn btn-edit" href="{% url 'modifier_utilisateur' utilisateur.id %}">Modifier</a>
            <a class="btn btn-delete" href="{% url 'supprimer_utilisateur' utilisateur.id %}">Supprimer</a>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="5">Aucun client trouvé</td>
        </tr>
      {% endfor %}
    </table>
  </div>
{% endblock %}
